<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Simplify hreflang links -->
    <link rel="alternate" hreflang="en" href="{{ secure_url(request.url) }}">
    <!-- Optionally use x-default if applicable -->
    <!-- <link rel="alternate" hreflang="x-default" href="{{ secure_url(request.url) }}"> -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Audio Analyzer - AI Audio Analysis</title>

    <!-- Improved SEO Meta Tags -->
    <meta name="description"
        content="100% Free AI audio analysis for music producers worldwide. Analyze spectrum, dynamics, stereo imaging & get mix improvement tips at no cost.">
    <meta name="keywords"
        content="audio analysis, 3D audio analysis, spatial audio mixing, AI mix analyzer, Dolby Atmos mixing, immersive audio, surround sound analysis, free music production, artificial intelligence mixing, frequency spectrum analysis, dynamic range, stereo field, EQ recommendations, free mastering assistance, frequency balance, transient analysis, harmonic content, audio mixing tool, spectral analysis, sound engineering tool, professional mixing, AI mix suggestions, spatial audio production">
    <meta name="robots" content="index, follow">
    <meta name="author" content="ADAM">

    <!-- Canonical URL -->
    <link rel="canonical" href="{{ secure_url(request.url) }}">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Audio Analyzer">
    <meta property="og:url" content="{{ secure_url(request.url) }}">
    <meta property="og:title" content="AI-Powered Audio Analysis">
    <meta property="og:description"
        content="AI audio analysis: Analyze frequency spectrum, dynamics and stereo imaging.">
    <meta property="og:image"
        content="{{ secure_url(url_for('static', filename='img/ai-mix-analyzer-og.jpg', _external=True)) }}">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ secure_url(request.url) }}">
    <meta property="twitter:title" content="AI Powered Audio Analysis">
    <meta property="twitter:description"
        content="AI audio analysis for music producers. Analyze frequency spectrum, dynamics and stereo imaging">
 
    <!-- Update WebApplication Schema with international context -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Audio Analyzer",
        "url": "{{ secure_url(request.url_root) }}",
        "description": "AI audio analysis for music producers worldwide. Analyze frequency spectrum, dynamics and stereo imaging.",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Any",
        "dateModified": "{{ config.get('LAST_UPDATED', '2023-11-15') }}",
        "inLanguage": "en",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "GBP",
            "availability": "https://schema.org/InStock",
            "priceValidUntil": "2025-12-31",
            "availableAtOrFrom": {
                "@type": "WebSite",
                "url": "{{ secure_url(request.url_root) }}",
                "name": "Audio Analyzer"
            }
        },
        "featureList": [
            "3D spatial audio analysis",
            "Dolby Atmos mix visualization",
            "Immersive audio measurement",
            "Frequency spectrum analysis",
            "AI-powered dynamic range measurement",
            "Stereo field visualization",
            "Artificial intelligence harmonic content analysis",
            "Transient detection",
            "EQ recommendations",
            "Sectral flatness measurement"
        ]
    }
    </script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet"
        href="{{ url_for('static', filename='css/styles.css') }}?v={{ config.get('VERSION', '1.0.1') }}">
    <link rel="stylesheet"
        href="{{ url_for('static', filename='css/modal.css') }}?v={{ config.get('VERSION', '1.0.1') }}">
    <link rel="stylesheet"
        href="{{ url_for('static', filename='css/responsive.css') }}?v={{ config.get('VERSION', '1.0.1') }}">
    <link rel="stylesheet"
        href="{{ url_for('static', filename='css/progress-feedback.css') }}?v={{ config.get('VERSION', '1.0.1') }}">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Audio Analyzer",
        "url": "{{ secure_url(request.url_root) }}",
        "description": "AI-powered 3D audio and spatial mix analysis tool for musicians, producers, and audio engineers. Analyze frequency spectrum, dynamics and stereo imaging.",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Any",
        "dateModified": "{{ config.get('LAST_UPDATED', '2025-09-22') }}",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "GBP"
        },
        "featureList": [
            "3D spatial audio analysis",
            "Dolby Atmos mix visualization",
            "Immersive audio measurement",
            "Free frequency spectrum analysis",
            "AI-powered dynamic range measurement",
            "Stereo field visualization",
            "Artificial intelligence harmonic content analysis",
            "Transient detection",
            "EQ recommendations",
            "Spectral flatness measurement"
        ]
    }
    </script>

    <!-- Enhanced Structured Data for Analysis Sections -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ItemList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "item": {
                    "@type": "SoftwareApplication",
                    "name": "Frequency Analysis",
                    "applicationCategory": "AudioTool",
                    "description": "Advanced frequency spectrum analysis with FFT processing to identify imbalances and masking issues",
                    "offers": {
                        "@type": "Offer",
                        "price": "0",
                        "priceCurrency": "GBP"
                    }
                }
            },
            {
                "@type": "ListItem",
                "position": 2,
                "item": {
                    "@type": "SoftwareApplication",
                    "name": "Dynamics Analysis",
                    "applicationCategory": "AudioTool",
                    "description": "Dynamic range measurement with RMS analysis, crest factor calculation, and compression detection",
                    "offers": {
                        "@type": "Offer",
                        "price": "0",
                        "priceCurrency": "GBP"
                    }
                }
            },
            {
                "@type": "ListItem",
                "position": 3,
                "item": {
                    "@type": "SoftwareApplication",
                    "name": "Stereo Field Analysis",
                    "applicationCategory": "AudioTool",
                    "description": "Stereo width measurement, phase correlation analysis, and mid/side balance assessment",
                    "offers": {
                        "@type": "Offer",
                        "price": "0",
                        "priceCurrency": "GBP"
                    }
                }
            },
            {
                "@type": "ListItem",
                "position": 4,
                "item": {
                    "@type": "SoftwareApplication",
                    "name": "AI Mix Analysis",
                    "applicationCategory": "AudioTool",
                    "description": "GPT-powered analysis offering genre-specific mix improvement suggestions and professional recommendations",
                    "offers": {
                        "@type": "Offer",
                        "price": "0",
                        "priceCurrency": "GBP"
                    }
                }
            }
        ]
    }
    </script>

    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "{{ secure_url(request.url_root) }}"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Audio Analyzer",
                "item": "{{ secure_url(request.url) }}"
            }
        ]
    }
    </script>

    <!-- Organization Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Mix Analyzer",
        "url": "{{ secure_url(request.url_root) }}",
        "logo": "{{ secure_url(url_for('static', filename='img/music-analyzer-icon.svg', _external=True)) }}",
        "description": "I-powered audio analysis tool for musicians, producers, and audio engineers.",
        "sameAs": [
            "https://github.com/owgit/ai-music-mix-analyzer"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "enginnering support",
            "email": "adam@mccartn3y.net"
        }
    }
    </script>

    <!-- HowTo Schema for Audio Analysis Process -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Analyze Your Audio Mix for Free",
        "description": "Step-by-step guide to analyze your audio mix using AI-powered technology for better music production results.",
        "totalTime": "PT5M",
        "tool": {
            "@type": "HowToTool",
            "name": "Audio file (MP3, WAV, FLAC, AIFF, M4A, PCM)"
        },
        "step": [
            {
                "@type": "HowToStep",
                "name": "Upload Audio",
                "text": "Drag and drop your audio file or click to select a file from your computer.",
                "image": "{{ secure_url(url_for('static', filename='img/upload-icon.svg', _external=True)) }}",
                "url": "{{ secure_url(request.url) }}#upload-area"
            },
            {
                "@type": "HowToStep",
                "name": "Analysis Process",
                "text": "Our AI analyzes frequency balance, dynamics, stereo field, clarity, and more.",
                "url": "{{ secure_url(request.url) }}#progress-container"
            },
            {
                "@type": "HowToStep",
                "name": "View Results",
                "text": "Review detailed analysis with visualizations and AI-powered recommendations.",
                "url": "{{ secure_url(request.url) }}#results-section"
            },
            {
                "@type": "HowToStep",
                "name": "Implement Changes",
                "text": "Apply the AI suggestions to improve your mix based on professional standards.",
                "url": "{{ secure_url(request.url) }}#ai-insights-tab"
            }
        ]
    }
    </script>

    <!-- Improved SoftwareApplication Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Mix Analyzer",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Any",
        "dateModified": "{{ config.get('LAST_UPDATED', '2023-11-15') }}",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "GBP"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "124",
            "bestRating": "5",
            "worstRating": "1"
        },
        "screenshot": "{{ secure_url(url_for('static', filename='img/ai-mix-analyzer-og.jpg', _external=True)) }}",
        "featureList": [
            "AI-powered frequency spectrum analysis",
            "Dynamic range measurement",
            "Stereo field visualization",
            "Harmonic content analysis",
            "Transient detection",
            "EQ recommendations",
            "Spectral flatness measurement",
            "Mix improvement suggestions"
        ]
    }
    </script>

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='img/favicon.svg') }}">
    <link rel="alternate icon" type="image/png" href="{{ url_for('static', filename='img/favicon-32x32.png') }}"
        sizes="32x32">
    <link rel="alternate icon" type="image/png" href="{{ url_for('static', filename='img/favicon-16x16.png') }}"
        sizes="16x16">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='img/favicon-32x32.png') }}">

    {% if config.ENABLE_ANALYTICS %}
    {% include 'analytics.html' %}
    {% endif %}

    <!-- FAQ Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What audio formats are supported for 3D spatial analysis?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Audio Analyzer supports multi-channel audio formats including Dolby Atmos (.atmos), AmbiX (.amb), and traditional formats like MP3, WAV, FLAC, AIFF, AIF, M4A, and PCM for comprehensive spatial audio analysis."
                }
            },
            {
                "@type": "Question",
                "name": "How does the AI-powered 3D spatial analysis work?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Our artificial intelligence analyzes your audio file's spatial characteristics including height channels, object-based audio elements, and immersive audio parameters. The AI provides detailed insights for frequency balance, dynamic range, stereo field, clarity, harmonic content, and spatial positioning, with personalized recommendations based on genre-specific best practices for 3D audio production."
                }
            },
            {
                "@type": "Question",
                "name": "Can Mix Analyzer help with Dolby Atmos mixing?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, Mix Analyzer provides comprehensive analysis and recommendations for Dolby Atmos mixing, including object positioning, height channel balance, and immersive audio best practices. Our AI helps optimize your spatial mix for various playback systems."
                }
            },
            {
                "@type": "Question",
                "name": "Is my audio data kept private?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes. Your uploaded audio files are processed on our secure servers and are not shared with third parties. Files are automatically deleted after processing is complete."
                }
            },
            {
                "@type": "Question",
                "name": "What is the maximum file size I can upload?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Mix Analyzer accepts audio files up to 50MB in size for free analysis, including multi-channel and spatial audio formats."
                }
            }
        ]
    }
    </script>
</head>

<body>
    <div class="container">
        <h1>DEV Harness</h1>
        <div class="header-spacing"></div>
        <main>
            <section class="upload-section" aria-labelledby="upload-section-title">
                <h2 id="upload-section-title" class="visually-hidden">Audio Upload</h2>
                <div class="instrumental-selection-container">
                    <div class="track-type-selector">
                        <label class="checkbox-container" for="instrumental-checkbox">
                            <input type="checkbox" id="instrumental-checkbox">
                            <span class="checkbox-text">This is an instrumental track (no vocals)</span>
                        </label>
                        <div class="info-tooltip">
                            <span class="info-icon" aria-hidden="true">i</span>
                            <div class="tooltip-content" role="tooltip">
                                Select this if the track has no vocals. It helps the audio analysis engine provide more
                                relevant frequency analysis and EQ recommendations.
                            </div>
                        </div>
                    </div>
                    <div class="instrument-hint-arrow">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        <span>Performance Setting</span>
                    </div>
                </div>

                <div class="upload-container" id="upload-container">
                    <!-- Ad banner placeholders - initially hidden, shown during analysis -->
                    <div class="ad-wrapper left">
                        <div class="ad-container left" id="left-ad-banner">
                            <div class="ad-placeholder">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40">
                                    <path
                                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M3.27 6.96L12 12.01l8.73-5.05" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M12 22.08V12" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="ad-wrapper right">
                        <div class="ad-container right" id="right-ad-banner">
                            <div class="ad-placeholder">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40">
                                    <path
                                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M3.27 6.96L12 12.01l8.73-5.05" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M12 22.08V12" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="upload-area" id="upload-area" role="button" tabindex="0"
                        aria-label="Drag and drop audio file here or click to select file">
                        <div class="upload-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                        </div>
                        <h2 class="upload-title">Drag & Drop your audio file</h2>
                        <p class="upload-subtitle">or click to browse your files</p>

                        <input type="file" id="file-input" accept=".mp3,.wav,.flac,.aiff,.aif,.m4a,.pcm,audio/*" aria-label="Upload audio file"
                            class="visually-hidden">
                        <div class="button-wrapper">
                            <button type="button" class="upload-button" id="upload-button">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" style="margin-right: 8px; vertical-align: -3px;">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                </svg>
                                Select Audio File
                            </button>
                            <p class="upload-help-text">MP3, WAV, FLAC, AIFF supported up to 100MB</p>
                        </div>
                    </div>

                    <div class="processing-indicator" id="processing-indicator" style="display: none;">
                        <div class="processing-indicator-dot"></div>
                        <div class="processing-indicator-text" id="processing-status">Loading audio...</div>
                    </div>

                    <div class="progress-container" id="progress-container" style="display: none;">
                        <div class="progress-header">
                            <div class="progress-status">
                                <svg class="progress-icon" viewBox="0 0 24 24" width="24" height="24">
                                    <path
                                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"
                                        fill="currentColor" />
                                    <path
                                        d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"
                                        fill="currentColor" class="spinner" />
                                </svg>
                                <span id="progress-stage">Uploading</span>
                            </div>
                            <span id="progress-percentage">0%</span>
                        </div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="progress-bar"></div>
                        </div>
                        <p id="progress-text">Preparing your audio file...</p>

                        <!-- Mobile Ad Banner - Only visible on mobile devices -->
                        <div class="mobile-ad-banner" id="mobile-ad-banner">
                            <div class="mobile-ad-placeholder">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30">
                                    <path
                                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M3.27 6.96L12 12.01l8.73-5.05" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M12 22.08V12" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </div>
                        </div>

                        <div class="progress-steps">
                            <div class="progress-step active" id="step-upload">
                                <div class="step-indicator"></div>
                                <span>Upload</span>
                            </div>
                            <div class="progress-step" id="step-analyze">
                                <div class="step-indicator"></div>
                                <span>Analyze</span>
                            </div>
                            <div class="progress-step" id="step-visualize">
                                <div class="step-indicator"></div>
                                <span>Visualize</span>
                            </div>
                            <div class="progress-step" id="step-ai">
                                <div class="step-indicator"></div>
                                <span>AI Insights</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="results-section" id="results-section" style="display: none;">
                <div class="results-actions">
                    <button type="button" id="analyze-new-btn" class="action-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor" />
                        </svg>
                        Analyze New Track
                    </button>
                    <button type="button" id="delete-track-btn" class="action-button delete-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
                                fill="currentColor" />
                        </svg>
                        Delete Track
                    </button>
                </div>

                <h2>Analysis Results for <span id="filename"></span></h2>

                <div class="overall-score">
                    <div class="score-circle">
                        <!-- Animated arcs -->
                        <div class="score-arc"></div>
                        <div class="score-arc"></div>
                        <div class="score-arc"></div>

                        <!-- Progress marks that will be populated by JS -->
                        <div class="score-circle-marks"></div>

                        <!-- Particles container for score animations -->
                        <div class="score-particles"></div>

                        <span id="overall-score">0</span>
                    </div>
                    <p>Overall Mix Score</p>
                </div>

                <div class="tabs" role="tablist">
                    <button type="button" class="tab-button active" data-tab="frequency" role="tab" aria-label="Frequency Balance"
                        aria-selected="true">Frequency Balance</button>
                    <button type="button" class="tab-button" data-tab="dynamics" role="tab" aria-label="Dynamics"
                        aria-selected="false">Dynamics</button>
                    <button type="button" class="tab-button" data-tab="stereo" role="tab" aria-label="Stereo Field"
                        aria-selected="false">Stereo Field</button>
                    <button type="button" class="tab-button" data-tab="clarity" role="tab" aria-label="Clarity"
                        aria-selected="false">Clarity</button>
                    <button type="button" class="tab-button" data-tab="harmonic" role="tab" aria-label="Harmonic"
                        aria-selected="false">Harmonic</button>
                    <button type="button" class="tab-button" data-tab="transients" role="tab" aria-label="Transients"
                        aria-selected="false">Transients</button>
                    <button type="button" class="tab-button" data-tab="spatial" role="tab" aria-label="3D Spatial"
                        aria-selected="false">3D Spatial</button>
                    <button type="button" class="tab-button" data-tab="visualizations" role="tab" aria-label="Visualizations"
                        aria-selected="false">Visualizations</button>
                    <button type="button" class="tab-button" data-tab="ai-insights" role="tab" aria-label="AI Insights"
                        aria-selected="false">AI Insights</button>
                </div>

                <div class="tab-content">
                    <!-- Frequency Balance Tab -->
                    <div class="tab-pane active" id="frequency-tab" role="tabpanel">
                        <div class="score-card">
                            <!-- Frequency meter element -->
                            <!-- <div class="frequency-meter"></div> -->
                            <!-- Particle container for animated effects -->
                            <div class="frequency-particles"></div>

                            <h3>Frequency Analysis Overview</h3>
                            <div class="score-value" id="frequency-score" data-label="/100">0</div>
                        </div>
                        <div class="analysis-card">
                            <h3>Analysis</h3>
                            <ul id="frequency-analysis"></ul>
                        </div>
                        <div class="ai-frequency-card">
                            <div class="ai-header">
                                <h3>AI Frequency Analysis</h3>
                                <p class="ai-powered-by">Powered by <span id="ai-model-used-freq">AI Model</span></p>
                            </div>
                            <div class="ai-section-card">
                                <h4>Frequency Issues</h4>
                                <ul id="ai-frequency-issues"></ul>
                            </div>
                            <div class="ai-section-card">
                                <h4>Frequency Recommendations</h4>
                                <ul id="ai-frequency-recommendations"></ul>
                            </div>
                            <div id="ai-freq-error" class="ai-error" style="display: none;">
                                <p>AI frequency analysis is not available.</p>
                            </div>
                            <div class="ai-description">
                                <p>Our advanced AI analyzes your mix's frequency spectrum to identify specific EQ issues
                                    and provide targeted recommendations for better frequency balance.</p>
                            </div>
                        </div>
                        <div class="chart-container">
                            <h3>Frequency Band Energy</h3>
                            <canvas id="frequency-chart"></canvas>
                        </div>
                    </div>

                    <!-- Dynamics Tab -->
                    <div class="tab-pane" id="dynamics-tab">
                        <div class="score-card">
                            <!-- Dynamic range meter element -->
                            <!-- <div class="dynamics-meter"></div> -->

                            <!-- Particle container for animated effects -->
                            <div class="dynamics-particles"></div>

                            <!-- Sound wave visualization -->
                            <div class="dynamics-wave"></div>

                            <h3>Dynamic Range Details</h3>
                            <div class="score-value" id="dynamics-score" data-label="/100">0</div>
                        </div>
                        <div class="metrics-container">
                            <div class="metric">
                                <h4>Dynamic Range</h4>
                                <div class="metric-value" id="dynamic-range">0 dB</div>
                            </div>
                            <div class="metric">
                                <h4>Crest Factor</h4>
                                <div class="metric-value" id="crest-factor">0 dB</div>
                            </div>
                            <div class="metric">
                                <h4>Peak to Loudness Ratio</h4>
                                <div class="metric-value" id="plr">0 dB</div>
                            </div>
                        </div>
                        <div class="analysis-card">
                            <h3>Analysis</h3>
                            <ul id="dynamics-analysis"></ul>
                        </div>
                    </div>

                    <!-- Stereo Field Tab -->
                    <div class="tab-pane" id="stereo-tab">
                        <div class="score-container">
                            <div class="score-card">
                                <!-- Width meter element -->
                                <!-- <div class="stereo-width-meter"></div> -->

                                <!-- Particle container for animated effects -->
                                <div class="stereo-width-particles"></div>

                                <h3>Stereo Imaging Insights</h3>
                                <div class="score-value" id="width-score" data-label="/100">0</div>
                            </div>
                            <div class="score-card">
                                <!-- Phase meter element -->
                                <!-- <div class="stereo-phase-meter"></div> -->

                                <!-- Particle container for animated effects -->
                                <div class="stereo-phase-particles"></div>

                                <!-- Phase wave visualization -->
                                <div class="stereo-phase-wave"></div>

                                <h3>Phase Score</h3>
                                <div class="score-value" id="phase-score" data-label="/100">0</div>
                            </div>
                        </div>
                        <div class="metrics-container">
                            <div class="metric">
                                <h4>Channel Correlation</h4>
                                <div class="metric-value" id="correlation">0</div>
                            </div>
                            <div class="metric">
                                <h4>Mid/Side Ratio</h4>
                                <div class="metric-value" id="mid-side-ratio">0</div>
                            </div>
                        </div>
                        <div class="analysis-card">
                            <h3>Analysis</h3>
                            <ul id="stereo-analysis"></ul>
                        </div>
                    </div>

                    <!-- Clarity Tab -->
                    <div class="tab-pane" id="clarity-tab">
                        <div class="score-card">
                            <h3>Clarity Score</h3>
                            <div class="score-value" id="clarity-score">0</div>
                        </div>
                        <div class="analysis-description">
                            <p>Clarity analysis measures how distinct and well-defined the elements in your mix sound. A
                                clear mix allows each instrument and vocal to be heard without being masked by other
                                elements, creating a professional sound with proper separation and definition across the
                                frequency spectrum.</p>
                        </div>
                        <div class="metrics-container">
                            <div class="metric">
                                <h4>Spectral Contrast</h4>
                                <div class="metric-value" id="spectral-contrast">0</div>
                                <p class="metric-description">Measures the distinction between peaks and valleys in the
                                    frequency spectrum</p>
                            </div>
                            <div class="metric">
                                <h4>Spectral Flatness</h4>
                                <div class="metric-value" id="spectral-flatness">0</div>
                                <p class="metric-description">Indicates how noise-like or tone-like your mix is,
                                    affecting perceived clarity</p>
                            </div>
                            <div class="metric">
                                <h4>Spectral Centroid</h4>
                                <div class="metric-value" id="spectral-centroid">0 Hz</div>
                                <p class="metric-description">The "center of gravity" of your sound's frequency spectrum
                                </p>
                            </div>
                        </div>
                        <div class="analysis-card">
                            <h3>Analysis</h3>
                            <ul id="clarity-analysis"></ul>
                        </div>
                        <div class="chart-container">
                            <h3>Clarity Factors Visualization</h3>
                            <div class="clarity-legend">
                                <div class="legend-item">
                                    <span class="legend-color legend-color-blue"></span>
                                    <span>Spectral Contrast: Separation between elements</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color legend-color-red"></span>
                                    <span>Tonal Focus: Musical content vs. noise</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color legend-color-green"></span>
                                    <span>Frequency Balance: Distribution across spectrum</span>
                                </div>
                            </div>
                            <canvas id="clarity-chart"></canvas>
                        </div>
                    </div>

                    <!-- Harmonic Analysis Tab -->
                    <div class="tab-pane" id="harmonic-tab">
                        <div class="score-card">
                            <h3>Harmonic Analysis Overview</h3>
                            <div class="score-value" id="harmonic-key">Key: C</div>
                        </div>
                        <div class="metrics-container">
                            <div class="metric">
                                <h4>Harmonic Complexity</h4>
                                <div class="metric-value" id="harmonic-complexity">0%</div>
                            </div>
                            <div class="metric">
                                <h4>Key Consistency</h4>
                                <div class="metric-value" id="key-consistency">0%</div>
                            </div>
                            <div class="metric">
                                <h4>Chord Changes</h4>
                                <div class="metric-value" id="chord-changes">0/min</div>
                            </div>
                        </div>
                        <div class="analysis-card">
                            <h3>Analysis</h3>
                            <ul id="harmonic-analysis"></ul>
                        </div>
                        <div class="visualization-container" title="Click to enlarge">
                            <img id="chromagram-img" src=" "
                                alt="Chromagram visualization showing harmonic content and key distribution">
                        </div>
                    </div>

                    <!-- Transients Tab -->
                    <div class="tab-pane" id="transients-tab">
                        <div class="score-card">
                            <h3>Transient Analysis Details</h3>
                            <div class="score-value" id="transients-score">0</div>
                        </div>
                        <div class="metrics-container">
                            <div class="metric">
                                <h4>Attack Time</h4>
                                <div class="metric-value" id="attack-time">0 ms</div>
                            </div>
                            <div class="metric">
                                <h4>Transient Density</h4>
                                <div class="metric-value" id="transient-density">0</div>
                            </div>
                            <div class="metric">
                                <h4>Percussion Energy</h4>
                                <div class="metric-value" id="percussion-energy">0%</div>
                            </div>
                        </div>
                        <div class="analysis-card">
                            <h3>Analysis</h3>
                            <ul id="transients-analysis"></ul>
                        </div>
                        <div class="chart-container">
                            <h3>Transient Detection</h3>
                            <canvas id="transients-chart"></canvas>
                        </div>
                    </div>

                    <!-- 3D Spatial Analysis Tab -->
                    <div class="tab-pane" id="spatial-tab">
                        <div class="score-card">
                            <h3>3D Spatial Analysis Overview</h3>
                            <div class="score-value" id="spatial-score">0</div>
                            <p class="score-description">Overall rating of your mix's three-dimensional spatial
                                characteristics and immersive qualities</p>
                        </div>
                        <div class="metrics-container">
                            <div class="metric"
                                title="Measures how well your mix utilizes the vertical space through frequency distribution and harmonic content">
                                <h4>Height Perception</h4>
                                <div class="metric-value" id="height-score">0%</div>
                                <p class="metric-description">High-frequency presence and vertical space utilization for
                                    enhanced listening experience</p>
                            </div>
                            <div class="metric"
                                title="Evaluates the perceived front-to-back dimension of your mix through phase relationships and reverb">
                                <h4>Depth Perception</h4>
                                <div class="metric-value" id="depth-score">0%</div>
                                <p class="metric-description">Front-to-back layering and spatial positioning for
                                    immersive soundstage</p>
                            </div>
                            <div class="metric"
                                title="Analyzes the stability and consistency of the stereo field across frequencies">
                                <h4>Width Consistency</h4>
                                <div class="metric-value" id="width-consistency">0%</div>
                                <p class="metric-description">Stereo field stability and balance across the frequency
                                    spectrum</p>
                            </div>
                        </div>
                        <div class="analysis-card">
                            <h3>Spatial Analysis</h3>
                            <div class="analysis-description">
                                <p>This analysis evaluates how your mix utilizes three-dimensional space,
                                    crucial for creating an immersive listening experience on modern playback systems
                                    including headphones, speakers, and surround environments.</p>
                            </div>
                            <ul id="spatial-analysis"></ul>
                        </div>
                        <h3>3D Spatial Field</h3>
                        <p class="visualization-help">This advanced visualization shows how your mix utilizes the full
                            three-dimensional space:</p>

                        <div class="visualization-container"
                            title="Interactive 3D visualization of your mix's spatial characteristics">
                            <ul class="visualization-legend">
                                <li><strong>X-axis:</strong> Left-right stereo positioning</li>
                                <li><strong>Y-axis:</strong> Front-back depth perception</li>
                                <li><strong>Z-axis:</strong> Vertical frequency distribution</li>
                                <li><strong>Color intensity:</strong> Energy distribution in the stereo field</li>
                            </ul>
                            <div id="spatial-field-container" class="visualization-3d-container">
                                <img id="spatial-field-img" src=""
                                    alt="3D spatial field visualization showing height, depth, and width characteristics"
                                    style="display: none;">
                                <!-- Direct iframe to interactive 3D visualization -->
                                <iframe id="spatial-field-iframe" src=""
                                    style="width: 100%; height: 700px; border: none; display: block;"
                                    title="Interactive 3D spatial audio visualization"></iframe>
                                <div class="interactive-controls">
                                    <p class="interactive-tip">Tip: Use your mouse to rotate and zoom the 3D
                                        visualization</p>
                                </div>
                            </div>
                            <button type="button" id="regenerate-spatial-btn" class="regenerate-btn"
                                title="Regenerate with enhanced detection"
                                onclick="regenerateSpatialField(document.getElementById('filename').textContent.trim())">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16">
                                    <path
                                        d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"
                                        fill="currentColor" />
                                </svg>
                                Regenerate Visualization
                            </button>
                        </div>
                    </div>

                    <!-- Visualizations Tab -->
                    <div class="tab-pane" id="visualizations-tab">
                        <div class="visualization-grid">
                            <div class="visualization-card">
                                <h3>Waveform</h3>
                                <div class="visualization-container" title="Click to enlarge">
                                    <img id="waveform-img" src=""
                                        alt="Audio waveform visualization showing amplitude over time"
                                        data-track-name="Waveform">
                                </div>
                            </div>
                            <div class="visualization-card">
                                <h3>Spectrogram</h3>
                                <div class="visualization-container" title="Click to enlarge">
                                    <img id="spectrogram-img" src=""
                                        alt="Spectrogram visualization showing frequency content over time">
                                </div>
                            </div>
                            <div class="visualization-card">
                                <h3>Frequency Spectrum</h3>
                                <div class="visualization-container" title="Click to enlarge">
                                    <img id="spectrum-img" src=""
                                        alt="Frequency spectrum visualization showing energy distribution across frequencies">
                                </div>
                            </div>
                            <div class="visualization-card">
                                <h3>Chromagram</h3>
                                <div class="visualization-container" title="Click to enlarge">
                                    <img id="chromagram-viz-img" src=""
                                        alt="Chromagram visualization showing harmonic content and key distribution">
                                </div>
                            </div>
                            <div class="visualization-card">
                                <h3>Stereo Field</h3>
                                <div id="stereo-field-container" class="visualization-container"
                                    title="Click to enlarge">
                                    <img id="stereo-field-img" src=""
                                        alt="Stereo field visualization showing spatial distribution between left and right channels">
                                    <button type="button" id="regenerate-stereo-btn" class="regenerate-btn"
                                        title="Regenerate with enhanced detection"
                                        onclick="regenerateStereoField(document.getElementById('filename').textContent.trim())">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                            <path
                                                d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2" />
                                        </svg>
                                        <span class="sr-only">Regenerate stereo field visualization</span>
                                    </button>
                                </div>
                            </div>
                            <div class="visualization-card">
                                <h3>Vectorscope</h3>
                                <div id="vectorscope-container" class="visualization-container"
                                    title="Click to enlarge">
                                    <img id="vectorscope-img" src=""
                                        alt="Vectorscope/Goniometer visualization showing phase correlation between left and right channels">
                                </div>
                            </div>
                            <div class="visualization-card">
                                <h3>Dynamic Range</h3>
                                <div id="dynamic-range-container" class="visualization-container"
                                    title="Click to enlarge">
                                    <img id="dynamic-range-img" src=""
                                        alt="Dynamic range visualization showing compression over time and frequency">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Insights Tab -->
                    <div class="tab-pane" id="ai-insights-tab">
                        <div class="ai-insights-container">
                            <div class="ai-header">
                                <h3>AI-Powered Mix Analysis</h3>
                                <p class="ai-powered-by">Powered by <span id="ai-model-used">AI Model</span></p>
                                <p class="ai-description">Comprehensive audio analysis powered by advanced AI models
                                    that provide professional mastering insights tailored to your track</p>
                            </div>

                            <div class="ai-summary-card">
                                <h4>Summary</h4>
                                <p id="ai-summary">Loading AI analysis...</p>
                            </div>

                            <div class="ai-genre-card">
                                <h4>Genre Context</h4>
                                <p id="ai-genre-context">Loading genre analysis...</p>
                            </div>

                            <div class="ai-genre-card">
                                <h4>Subgenre & Style-Specific Context</h4>
                                <p id="ai-subgenre-context">Loading subgenre analysis...</p>
                            </div>

                            <div class="ai-sections-container">
                                <div class="ai-section-card">
                                    <h4>Strengths</h4>
                                    <ul id="ai-strengths"></ul>
                                </div>

                                <div class="ai-section-card">
                                    <h4>Areas for Improvement</h4>
                                    <ul id="ai-weaknesses"></ul>
                                </div>
                            </div>

                            <div class="ai-suggestions-card">
                                <h4>Suggestions</h4>
                                <ul id="ai-suggestions"></ul>
                            </div>

                            <div class="ai-reference-card">
                                <h4>Reference Tracks</h4>
                                <ul id="ai-reference-tracks"></ul>
                            </div>

                            <div class="ai-processing-card">
                                <h4>Processing Recommendations</h4>
                                <ul id="ai-processing-recommendations"></ul>
                            </div>

                            <div class="ai-translation-card">
                                <h4>Mix Translation Recommendations</h4>
                                <ul id="ai-translation-recommendations"></ul>
                            </div>

                            <div id="ai-error" class="ai-error" style="display: none;">
                                <p>AI analysis is not available. Please check your OpenAI API key.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="site-footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>AI-Powered Audio Analysis Tool</h3>
                    <p>Audio analysis tool with artificial intelligence for musicians, producers, and
                        sound engineers. Upload your tracks at no cost to get detailed frequency spectrum analysis,
                        dynamic range measurement, stereo field visualization, and AI-powered EQ improvement
                        suggestions.</p>
                </div>

                <div class="footer-section">
                    <span class="footer-title">Audio Production Knowledge</span>
                    <ul class="footer-links">
                        <li><a href="{{ url_for('main.index') }}#frequency-guide" id="open-frequency-guide"
                                aria-label="Read AI-Powered Frequency Spectrum Analysis Guide">AI-Powered Frequency
                                Spectrum Analysis Guide</a></li>
                        <li><a href="{{ url_for('main.index') }}#dynamics-guide" id="open-dynamics-guide"
                                aria-label="Read Dynamic Range & Compression Explained">Dynamic Range & Compression
                                Explained</a></li>
                        <li><a href="{{ url_for('main.index') }}#harmonic-guide" id="open-harmonic-guide"
                                aria-label="Read AI Harmonic Analysis & EQ Techniques">AI Harmonic Analysis & EQ
                                Techniques</a></li>
                        <li><a href="{{ url_for('main.index') }}#stereo-guide" id="open-stereo-guide"
                                aria-label="Read Understanding Stereo Field & Imaging">Understanding Stereo Field &
                                Imaging</a></li>
                        <li><a href="{{ url_for('main.index') }}#transients-guide" id="open-transients-guide"
                                aria-label="Read AI Transient Analysis & Detection">AI Transient Analysis &
                                Detection</a></li>
                        <li><a href="{{ url_for('main.index') }}#spatial-guide" id="open-spatial-guide"
                                aria-label="Read 3D Spatial Mix Analysis Guide">3D Spatial Mix Analysis Guide</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <span class="footer-title">Free Resources</span>
                    <ul class="footer-links">
                        <li><a href="{{ url_for('main.about') }}" data-track-download="About Mix Analyzer Technology"
                                aria-label="Learn about Mix Analyzer Technology">About Mix Analyzer Technology</a></li>
                        <li><a href="{{ url_for('main.index') }}#faq" id="open-faq" data-track-download="FAQ"
                                aria-label="Read Frequently Asked Questions">FAQ</a></li>
                        <li><a href="https://librosa.org/" target="_blank" rel="noopener"
                                data-track-download="Librosa Docs"
                                aria-label="Visit Librosa Audio Analysis Library website">Librosa Audio Analysis
                                Library</a></li>
                        <li><a href="https://platform.openai.com/docs/introduction" target="_blank" rel="noopener"
                                data-track-download="OpenAI Docs" aria-label="Visit OpenAI API documentation">OpenAI API
                                for AI Mix Analysis</a></li>
                        <li><a href="https://github.com/owgit/ai-music-mix-analyzer" target="_blank" rel="noopener"
                                data-track-download="GitHub Repo" aria-label="Visit GitHub Repository">GitHub
                                Repository</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Mix Analyzer | Audio analysis libraries, artificial
                    intelligence and spectral analysis tools</p>
            </div>
        </footer>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-confirmation-modal" class="modal-overlay delete-confirmation-modal">
        <div class="modal-content">
            <div class="modal-title">Confirm Deletion</div>
            <button type="button" class="close-button" id="close-delete-modal">&times;</button>

            <p>Are you sure you want to delete this track from the database? This action cannot be undone.</p>
            <div class="delete-confirmation-buttons">
                <button type="button" id="cancel-delete-btn" class="cancel-delete-btn">Cancel</button>
                <button type="button" id="confirm-delete-btn" class="confirm-delete-btn">Delete Permanently</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ versioned_asset(url_for('static', filename='js/progress-feedback.js')) }}"></script>
    <script src="{{ versioned_asset(url_for('static', filename='js/main.js')) }}"></script>
    <script src="{{ versioned_asset(url_for('static', filename='js/modal.js')) }}"></script>
    <script src="{{ versioned_asset(url_for('static', filename='js/mobile.js')) }}"></script>
    <script src="{{ versioned_asset(url_for('static', filename='js/feedback.js')) }}"></script>
    <script src="{{ versioned_asset(url_for('static', filename='js/faq-data.js')) }}"></script>
    <script src="{{ versioned_asset(url_for('static', filename='js/score-animations.js')) }}"></script>
    <script src="{{ versioned_asset(url_for('static', filename='js/score-effects.js')) }}"></script>

    <!-- Floating feedback button for mobile -->
    <div class="floating-feedback-button" id="floating-feedback-btn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
            <path
                d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"
                fill="currentColor" />
        </svg>
    </div>

    <!-- Add style for the animated blur effect -->
    <style>
        .coffee-button-container {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .coffee-button-img {
            position: relative;
            z-index: 2;

            display: block;
            border-radius: 10px;
        }

        .coffee-button-blur {
            position: absolute;
            inset: -5px;
            z-index: 1;
            background: linear-gradient(45deg, #ff7b00, #ff006a, #8000ff, #0082ff);
            background-size: 400% 400%;
            filter: blur(10px);
            opacity: 0.6;
            animation: gradient 6s ease infinite;
        }

        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .coffee-button-container:hover .coffee-button-blur {
            animation: gradient 3s ease infinite;
            opacity: 0.8;
            transform: scale(1.05);
        }

        .footer-coffee-container {
            position: relative;
            display: inline-block;
            border-radius: 10px;
            overflow: hidden;
            vertical-align: middle;
            margin-left: 5px;
        }

        .footer-coffee-img {
            position: relative;
            z-index: 2;
            height: 30px;
            display: block;
        }

        .footer-coffee-blur {
            position: absolute;
            inset: -5px;
            z-index: 1;
            background: linear-gradient(45deg, #ff7b00, #ff006a, #8000ff, #0082ff);
            background-size: 400% 400%;
            filter: blur(8px);
            opacity: 0.7;
            animation: gradient 5s ease infinite;
        }

        .footer-coffee-container:hover .footer-coffee-blur {
            animation: gradient 3s ease infinite;
            opacity: 0.85;
        }

        /* Fallback button styles */
        .coffee-button-text {
            background-color: #FFDD00;
            color: #000000;
            font-weight: bold;
            padding: 10px 16px;
            border-radius: 10px;
            font-family: var(--font-family, 'Inter', sans-serif);
            white-space: nowrap;
            text-align: center;
            border: none;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        /* Footer title style */
        .footer-title {
            display: block;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--primary-color, #333);
        }

        .inline-svg-style {
            margin-right: 8px;
            vertical-align: -3px;
        }

        .legend-color {
            display: inline-block;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .legend-color-blue {
            background-color: rgba(74, 107, 255, 0.7);
        }

        .legend-color-red {
            background-color: rgba(255, 99, 132, 0.7);
        }

        .legend-color-green {
            background-color: rgba(75, 192, 192, 0.7);
        }

        .full-width-iframe {
            width: 100%;
            height: 700px;
            border: none;
            display: block;
        }
    </style>
</body>

</html>